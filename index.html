<!DOCTYPE html>
<html lang="ru">
<head>  
	<meta charset="utf-8" />
	<title>Лабораторная работа 5</title>
	<link rel="stylesheet" href="https://www.x3dom.org/download/1.7.2/x3dom.css" />
	<script src="https://www.x3dom.org/download/1.7.2/x3dom-full.js"></script>
</head>
<body>
	<h1> Кафедра тус </h1>
	<input type="button" id="b1" value="Классный пол"></input>
	<input type="button" id="b2" value="Начать движ"></input>
	<input type="button" id="b3" value="По домам"></input>
	<input type="button" id="b4" value="Вырубить пол"></input>
	<input type="button" id="b5" value="Умерить пыл"></input>
	<X3D style="width:100%; height:100%">
		<script src="tusa.js"></script>
		<Scene>
			<Viewpoint position="0 0 12" orientation="1 0 0 0" ></Viewpoint>
			<!--Атмосфера-->
			<PointLight location="0 20 0" color="1 1 1" intensity="0.1" shadowIntensity="0.5" shadowMapSize="1000"></PointLight>
			<Background backUrl="клуб.jpg"></Background>
			<!--Классный пол-->
			<Transform rotation="0 1 0 -0.79" translation="0 -1.4 0"> 
				<Shape>
					<Appearance>
						<ImageTexture url="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS3rYatqbMp1q5P67q988ik1rr7NT81b4RQbug42IK7LHX9HRus"></ImageTexture>
					</Appearance>					
					<Box size="15 0.1 15">
					</Box>
				</Shape>
				<Transform id="c" translation="0 0.01 0">
					<Shape>
						<Appearance>
							<Material id="c1" DEF="Material" diffuseColor='1 0 1' specularColor='1 1 1'  transparency = '1'></Material>
						</Appearance>
						<Box size="5 0.1 5"></Box>
					</Shape>
				</Transform>
				<Transform id="c2" translation="0 0.01 -5">
					<Shape>
						<Appearance>
							<Material id="c3" DEF="Material" diffuseColor='0 1 1' specularColor='1 1 1'  transparency = '1'></Material>
						</Appearance>
						<Box size="5 0.1 5"></Box>
					</Shape>
				</Transform>
				<Transform id="c4" translation="0 0.01 5">
					<Shape>
						<Appearance>
							<Material id="c5" DEF="Material" diffuseColor='0 0 1' specularColor='1 1 1'  transparency = '1'></Material>
						</Appearance>
						<Box size="5 0.1 5"></Box>
					</Shape>
				</Transform>
				<Transform id="c6" translation="0 0.01 5">
					<Shape>
						<Appearance>
							<Material id="c7" DEF="Material" diffuseColor='1 1 0' specularColor='1 1 1'  transparency = '1'></Material>
						</Appearance>
						<Box size="5 0.1 5"></Box>
					</Shape>
				</Transform>
				<Transform id="c8" translation="0 0.01 5">
					<Shape>
						<Appearance>
							<Material id="c9" DEF="Material" diffuseColor='0 1 0' specularColor='1 1 1'  transparency = '1'></Material>
						</Appearance>
						<Box size="5 0.1 5"></Box>
					</Shape>
				</Transform>
			</Transform>
			<!--Музыка-->
			<Sound> 
				<AudioClip url='тусич.mp3' loop='true' enabled='true'> 
				</AudioClip>
			</Sound>
			<!--Шар-->
			<TimeSensor DEF='Timetoroll' cycleInterval='5' loop='true'></TimeSensor>
			<OrientationInterpolator DEF='OrInt' key='0 0.5 1' keyValue='0 1 0 0, 0 1 0 -3.14, 0 1 0 -6.28'></OrientationInterpolator>
			<Transform DEF='Tr' translation="0 4 0">
				<Shape>
					<Appearance>
						<ImageTexture url="https://st2.depositphotos.com/3008028/7430/i/950/depositphotos_74302121-stock-photo-golden-shiny-texture.jpg"></ImageTexture>
					</Appearance>
					<Sphere radius="0.5"></Sphere>
				</Shape>
			</Transform>
			<ROUTE fromNode='Timetoroll' fromField='fraction_changed' toNode='OrInt' toField='set_fraction'></ROUTE>
			<ROUTE fromNode='OrInt' fromField='value_changed' toNode='Tr' toField='set_rotation'></ROUTE>
			<!--Покемоны-->
			<Transform DEF="Sh">
				<Transform id="Tr" translation="-2 -0.7 0" scale="0.1 0.1 0.1">
					<Inline url="shar2.x3d"></Inline>	
				</Transform>
			</Transform>

			<Transform DEF="Sh1">
				<Transform id="Tr1" translation="3 -1 0" scale="0.1 0.1 0.1">
					<Inline url="shar1.x3d"></Inline>	
				</Transform>
			</Transform>

			<Transform DEF="J">
				<Transform id="Tr2" translation="4 -0.9 4" scale="0.1 0.1 0.1">
					<Inline url="jigly.x3d"></Inline>	
				</Transform>
			</Transform>
			
			<Transform DEF="F">
				<Transform id="Tr3" translation="-5 -0.5 4" scale="0.15 0.15 0.15">
					<Inline url="frog.x3d"></Inline>	
				</Transform>
			</Transform>
			
			<Transform DEF="Sh2">
				<Transform id="Tr4" translation="-5 -0.9 -2" scale="0.1 0.1 0.1">
					<Inline url="shalash.x3d"></Inline>	
				</Transform>
			</Transform>

			<Transform DEF="M">
				<Transform id="Tr5" translation="0 -0.9 -4" scale="0.1 0.1 0.1">
					<Inline url="mouse.x3d"></Inline>	
				</Transform>
			</Transform>

			<Transform DEF="I">
				<Transform id="Tr6" translation="0 -0.9 7" scale="0.1 0.1 0.1">
					<Inline url="igly.x3d"></Inline>	
				</Transform>
			</Transform>

			<Transform DEF="MF">
				<Transform id="Tr7" translation="0 -0.9 4" scale="0.1 0.1 0.1">
					<Inline url="minifrog.x3d"></Inline>
				</Transform>
			</Transform>

			<!--Мне это надо-->
			<TimeSensor DEF='danc' cycleInterval="0.5" loop="true" enabled="true"></TimeSensor>
			<TimeSensor DEF='dance' cycleInterval="0.7" loop="true" enabled="true"></TimeSensor>
			<TimeSensor DEF='dancee' cycleInterval="0.8" loop="true" enabled="true"></TimeSensor>
			<PositionInterpolator id="hit" DEF='PI' key='0 0.3 0.7 1' keyValue='0 0 0, 0 0 0, 0 0 0, 0 0 0'></PositionInterpolator>
			<PositionInterpolator id="hit1" DEF='PI1' key='0 0.4 0.7 1' keyValue='0 0 0, 0 0 0, 0 0 0, 0 0 0'></PositionInterpolator>
			<PositionInterpolator id="hit2" DEF='PI2' key='0 0.3 0.8 1' keyValue='0 0 0, 0 0 0, 0 0 0, 0 0 0'></PositionInterpolator>
			<PositionInterpolator id="hit3" DEF='PI3' key='0 0.3 0.6 1' keyValue='0 0 0, 0 0 0, 0 0 0, 0 0 0'></PositionInterpolator>
			<PositionInterpolator id="hit4" DEF='PI4' key='0 0.2 0.7 1' keyValue='0 0 0, 0 0 0, 0 0 0, 0 0 0'></PositionInterpolator>
			<PositionInterpolator id="hit5" DEF='PI5' key='0 0.2 0.6 1' keyValue='0 0 0, 0 0 0, 0 0 0, 0 0 0'></PositionInterpolator>
			<PositionInterpolator id="hit6" DEF='PI6' key='0 0.2 0.7 1' keyValue='0 0 0, 0 0 0, 0 0 0, 0 0 0'></PositionInterpolator>
			<PositionInterpolator id="hit7" DEF='PI7' key='0 0.3 0.8 1' keyValue='0 0 0, 0 0 0, 0 0 0, 0 0 0'></PositionInterpolator>

			<ROUTE fromNode="danc" fromField="fraction_changed" toNode="PI" toField="set_fraction"></ROUTE>
			<ROUTE fromNode="PI" fromField="value_changed" toNode="F" toField="set_translation"></ROUTE>

			<ROUTE fromNode="dancee" fromField="fraction_changed" toNode="PI1" toField="set_fraction"></ROUTE>
			<ROUTE fromNode="PI1" fromField="value_changed" toNode="Sh" toField="set_translation"></ROUTE>

			<ROUTE fromNode="dance" fromField="fraction_changed" toNode="PI2" toField="set_fraction"></ROUTE>
			<ROUTE fromNode="PI2" fromField="value_changed" toNode="Sh1" toField="set_translation"></ROUTE>

			<ROUTE fromNode="dancee" fromField="fraction_changed" toNode="PI3" toField="set_fraction"></ROUTE>
			<ROUTE fromNode="PI3" fromField="value_changed" toNode="I" toField="set_translation"></ROUTE>

			<ROUTE fromNode="danc" fromField="fraction_changed" toNode="PI4" toField="set_fraction"></ROUTE>
			<ROUTE fromNode="PI4" fromField="value_changed" toNode="J" toField="set_translation"></ROUTE>

			<ROUTE fromNode="danc" fromField="fraction_changed" toNode="PI5" toField="set_fraction"></ROUTE>
			<ROUTE fromNode="PI5" fromField="value_changed" toNode="Sh2" toField="set_translation"></ROUTE>

			<ROUTE fromNode="danc" fromField="fraction_changed" toNode="PI5" toField="set_fraction"></ROUTE>
			<ROUTE fromNode="PI5" fromField="value_changed" toNode="MF" toField="set_translation"></ROUTE>

			<ROUTE fromNode="danc" fromField="fraction_changed" toNode="PI5" toField="set_fraction"></ROUTE>
			<ROUTE fromNode="PI5" fromField="value_changed" toNode="M" toField="set_translation"></ROUTE>

			<TimeSensor DEF="Pol" cycleInterval="5" loop="true"></TimeSensor>
			<ROUTE id="pos" fromNode="Pol" fromField="value_changed" toNode="c" toField="set_translation"></ROUTE>
		</Scene>
	</X3D>
</body>
</html>
